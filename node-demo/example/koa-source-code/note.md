// koa2 源码

// koa: 用更简单化，流程化，模块化的方式实现回调部分；（koa 就是回调函数）

// koa中间件机制：就是函数组合的概念，将一组需要顺序执行的函数复合为一个函数，外层函数的参数实际是内层函数的返回值
// 洋葱圈模型可以形象表示这种机制，是源码中的精髓和难点；

// express 和 koa最大的区别是：中间件机制;

koa中间件的规范：
    一个async函数；
    接收ctx和next两个函数;
    任务结束需要执行next；

中间件常见任务：
    请求拦截；(eg: 黑名单中存在的ip访问将被拒绝)
        请求拦截应用非常广泛：登陆状态验证，CORS头设置等；
    路由；
    日志；
    静态文件服务；    
        

静态文件的服务koa-static
    配置决定资源目录地址，默认为static；
    获取文件或者目录信息；
    静态文件读取；
    返回；
